{% include 'navbar.html'%}
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Sidebar -->
<div id="sidebar" class="bg-white w-64 shadow-lg fixed left-0 top-16 transform -translate-x-64 transition-transform duration-300 z-40 lg:translate-x-0" 
     style="height: calc(100vh - 4rem);">

  <div class="p-4 text-2xl font-bold text-blue-600"></div>
  <nav class="mt-6 space-y-1">
    <button onclick="showSection('dashboard')" class="w-full text-left py-2.5 px-4 hover:bg-blue-100 rounded">Dashboard</button>
    <button onclick="showSection('addUser')" class="w-full text-left py-2.5 px-4 hover:bg-blue-100 rounded">Add User</button>
    <button onclick="showSection('cars')" class="w-full text-left py-2.5 px-4 hover:bg-blue-100 rounded">Add Car / List Car</button>
    <button onclick="showSection('reports')" class="w-full text-left py-2.5 px-4 hover:bg-blue-100 rounded">Reports</button>
  </nav>
</div>

<!-- Hamburger -->
<button id="hamburger" class="fixed top-8 left-4 z-50 bg-blue-600 text-white p-2 rounded lg:hidden">☰</button>

<!-- Overlay for mobile when sidebar is open -->
<div id="overlay" class="fixed inset-0 bg-black bg-opacity-30 hidden z-30 lg:hidden"></div>

<!-- Main Content -->
<div class="flex-1 lg:ml-64 p-6">

  <!-- Dashboard Section -->
  <div id="dashboard" class="section">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">Dashboard</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
      <div class="bg-white p-6 rounded-xl shadow-md"><h2 class="text-gray-500">Total Bookings</h2><p class="text-2xl font-bold">1,240</p></div>
      <div class="bg-white p-6 rounded-xl shadow-md"><h2 class="text-gray-500">Cancelled Bookings</h2><p class="text-2xl font-bold">120</p></div>
      <div class="bg-white p-6 rounded-xl shadow-md"><h2 class="text-gray-500">Total Revenue</h2><p class="text-2xl font-bold">₹ 8,50,000</p></div>
      <div class="bg-white p-6 rounded-xl shadow-md"><h2 class="text-gray-500">Total Employees</h2><p class="text-2xl font-bold">56</p></div>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <div class="bg-white p-6 rounded-xl shadow-md col-span-2">
        <h2 class="text-xl font-semibold mb-4">Revenue by Month</h2>
        <canvas id="revenueChart"></canvas>
      </div>
      <div class="bg-white p-6 rounded-xl shadow-md">
        <h2 class="text-xl font-semibold mb-4">Quick Stats</h2>
        <div class="mb-4"><h3 class="text-gray-500">Active Bookings</h3><p class="text-2xl font-bold">320</p></div>
        <div><h3 class="text-gray-500">Total Cars</h3><p class="text-2xl font-bold">85</p></div>
      </div>
    </div>
  </div>

  <!-- Add User Section -->
<div id="addUser" class="section hidden">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Employees</h1>
    <!-- Add User Button -->
    <button class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
      + Add User
    </button>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Center: Employee Table -->
    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
      <h2 class="text-xl font-semibold mb-4">Employee Details with Salary</h2>
      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-gray-100 text-left">
              <th class="p-3 border">Name</th>
              <th class="p-3 border">Role</th>
              <th class="p-3 border">Email</th>
              <th class="p-3 border">Salary</th>
            </tr>
          </thead>
          <tbody>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border">Jebeshan</td>
              <td class="p-3 border">Admin</td>
              <td class="p-3 border">jebeshan@gmail.com</td>
              <td class="p-3 border">₹ 50,000</td>
            </tr>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border">Sparrow</td>
              <td class="p-3 border">Employee</td>
              <td class="p-3 border">Sparrow@gmail.com</td>
              <td class="p-3 border">₹ 35,000</td>
            </tr>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border">Robert Brown</td>
              <td class="p-3 border">Driver</td>
              <td class="p-3 border">robert@example.com</td>
              <td class="p-3 border">₹ 25,000</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Right: Total Employees Card -->
    <div class="bg-gradient-to-r from-indigo-500 to-blue-700 text-white p-6 rounded-xl shadow-md flex flex-col justify-center items-center">
      <h2 class="text-lg">Total Employees</h2>
      <p class="text-4xl font-bold mt-2">56</p>
    </div>
  </div>
</div>


  <!-- Other sections placeholder -->
  <!-- Car Management Section -->
<div id="cars" class="section hidden">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Car Management</h1>
    <!-- Add Car Button -->
    <button class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
      + Add Car
    </button>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Center: Car Table -->
    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
      <h2 class="text-xl font-semibold mb-4">Car List</h2>
      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-gray-100 text-left">
              <th class="p-3 border">Car Name</th>
              <th class="p-3 border">Model</th>
              <th class="p-3 border">Year</th>
              <th class="p-3 border">Status</th>
              <th class="p-3 border">Rent/Day</th>
            </tr>
          </thead>
          <tbody>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border">Toyota Innova</td>
              <td class="p-3 border">Innova Crysta</td>
              <td class="p-3 border">2021</td>
              <td class="p-3 border text-green-600 font-bold">Available</td>
              <td class="p-3 border">₹ 2,500</td>
            </tr>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border">Hyundai i20</td>
              <td class="p-3 border">Sportz</td>
              <td class="p-3 border">2020</td>
              <td class="p-3 border text-red-600 font-bold">Booked</td>
              <td class="p-3 border">₹ 1,500</td>
            </tr>
            <tr class="hover:bg-gray-50">
              <td class="p-3 border">Mahindra XUV500</td>
              <td class="p-3 border">W10</td>
              <td class="p-3 border">2019</td>
              <td class="p-3 border text-green-600 font-bold">Available</td>
              <td class="p-3 border">₹ 3,000</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Right: Total Cars Card -->
    <div class="bg-gradient-to-r from-green-500 to-green-700 text-white p-6 rounded-xl shadow-md flex flex-col justify-center items-center">
      <h2 class="text-lg">Total Cars</h2>
      <p class="text-4xl font-bold mt-2">85</p>
    </div>
  </div>
</div>

  <div id="reports" class="section hidden"><h1 class="text-3xl font-bold">Reports</h1></div>
</div>

<!-- Chart Script + Toggle -->
<script>
  // Chart.js
  const ctx = document.getElementById('revenueChart').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
      datasets: [{
        label: 'Revenue',
        data: [120000, 150000, 180000, 140000, 200000, 170000, 220000],
        borderColor: 'rgb(37, 99, 235)',
        backgroundColor: 'rgba(37, 99, 235, 0.2)',
        fill: true,
        tension: 0.3
      }]
    }
  });

  // Hamburger toggle
  document.getElementById('hamburger').addEventListener('click', () => {
    document.getElementById('sidebar').classList.toggle('-translate-x-64');
  });

  // Section toggle
  function showSection(id) {
    document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
  }
</script>
